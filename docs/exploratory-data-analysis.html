<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<link rel="icon" href="imgs/favicon.ico">
<link rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css">
<link rel="stylesheet" href="https://bootswatch.com/_vendor/bootstrap-icons/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://bootswatch.com/_vendor/prismjs/themes/prism-okaidia.css">
<link rel="stylesheet" href="https://bootswatch.com/_assets/css/custom.min.css">

<title>Exploratory Data Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="classifiers_files/libs/clipboard/clipboard.min.js"></script>
<script src="classifiers_files/libs/quarto-html/quarto.js"></script>
<script src="classifiers_files/libs/quarto-html/popper.min.js"></script>
<script src="classifiers_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="classifiers_files/libs/quarto-html/anchor.min.js"></script>
<link href="classifiers_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="classifiers_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="classifiers_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="classifiers_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="classifiers_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

  <div class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
    <div class="container">
      <a href="index.html" class="navbar-brand">Revelio</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" data-bs-toggle="dropdown" id="notebooks" href="notebooks.html">Notebooks</a>
            <div class="dropdown-menu" aria-labelledby="notebooks">
              <a class="dropdown-item text-info" href="#">Exploratory Data Analysis</a>
              <a class="dropdown-item text-info" href="classifiers.html">Classification models</a>
              <a class="dropdown-item" href="notebooks.html">Back to Notebooks</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="about.html">About</a>
          </li>
        </ul>
        <ul class="navbar-nav ms-md-auto">
          <li class="nav-item">
            <a target="_blank" rel="noopener" class="nav-link" href="https://github.com/mafesan/Memoria-TFM/"><i class="bi bi-github"></i> GitHub</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full toc-left">
<div id="quarto-sidebar-toc-left fixed-top" class="sidebar toc-left" style="padding-top:100px;">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>

  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-overview" id="toc-data-overview" class="nav-link" data-scroll-target="#data-overview">Data overview</a></li>
  <li><a href="#data-curation-identities-management" id="toc-data-curation-identities-management" class="nav-link" data-scroll-target="#data-curation-identities-management">Data curation: identities management</a></li>
  <li><a href="#initial-exploration" id="toc-initial-exploration" class="nav-link" data-scroll-target="#initial-exploration">Initial exploration</a></li>
  <li><a href="#objectives-goals-and-questions" id="toc-objectives-goals-and-questions" class="nav-link" data-scroll-target="#objectives-goals-and-questions">Objectives: Goals and questions</a>
  <ul class="collapse">
  <li><a href="#goal-1" id="toc-goal-1" class="nav-link" data-scroll-target="#goal-1">Goal 1</a></li>
  <li><a href="#goal-2" id="toc-goal-2" class="nav-link" data-scroll-target="#goal-2">Goal 2</a></li>
  </ul></li>
  <li><a href="#metrics" id="toc-metrics" class="nav-link" data-scroll-target="#metrics">Metrics</a>
  <ul class="collapse">
  <li><a href="#git-commits-per-individual" id="toc-git-commits-per-individual" class="nav-link" data-scroll-target="#git-commits-per-individual">Git (commits), per individual</a></li>
  </ul></li>
  <li><a href="#extracting-the-data-from-elasticsearch" id="toc-extracting-the-data-from-elasticsearch" class="nav-link" data-scroll-target="#extracting-the-data-from-elasticsearch">Extracting the data from ElasticSearch</a></li>
  <li><a href="#studying-the-contributors-dataset" id="toc-studying-the-contributors-dataset" class="nav-link" data-scroll-target="#studying-the-contributors-dataset">Studying the “contributors dataset”</a>
  <ul class="collapse">
  <li><a href="#variable-types" id="toc-variable-types" class="nav-link" data-scroll-target="#variable-types">Variable types</a></li>
  <li><a href="#correlation" id="toc-correlation" class="nav-link" data-scroll-target="#correlation">Correlation</a></li>
  <li><a href="#statistical-distribution-of-variables" id="toc-statistical-distribution-of-variables" class="nav-link" data-scroll-target="#statistical-distribution-of-variables">Statistical distribution of variables</a></li>
  </ul></li>
  <li><a href="#generate-training-test-and-validation-sets" id="toc-generate-training-test-and-validation-sets" class="nav-link" data-scroll-target="#generate-training-test-and-validation-sets">Generate training, test and validation sets</a></li>
  <li><a href="#pre-processing-of-the-training-dataset" id="toc-pre-processing-of-the-training-dataset" class="nav-link" data-scroll-target="#pre-processing-of-the-training-dataset">Pre-processing of the Training Dataset</a>
  <ul class="collapse">
  <li><a href="#detection-and-processing-of-missing-data-training-dataset" id="toc-detection-and-processing-of-missing-data-training-dataset" class="nav-link" data-scroll-target="#detection-and-processing-of-missing-data-training-dataset">Detection and processing of missing data: Training dataset</a></li>
  <li><a href="#correlation-training-dataset" id="toc-correlation-training-dataset" class="nav-link" data-scroll-target="#correlation-training-dataset">Correlation: Training dataset</a></li>
  <li><a href="#transformation-quantitative-variables" id="toc-transformation-quantitative-variables" class="nav-link" data-scroll-target="#transformation-quantitative-variables">Transformation: Quantitative variables</a>
  <ul class="collapse">
  <li><a href="#number-of-commits" id="toc-number-of-commits" class="nav-link" data-scroll-target="#number-of-commits">Number of commits</a></li>
  <li><a href="#number-of-merge-commits" id="toc-number-of-merge-commits" class="nav-link" data-scroll-target="#number-of-merge-commits">Number of merge commits</a></li>
  <li><a href="#number-of-weekend-commits" id="toc-number-of-weekend-commits" class="nav-link" data-scroll-target="#number-of-weekend-commits">Number of weekend commits</a></li>
  <li><a href="#number-of-signed-commits" id="toc-number-of-signed-commits" class="nav-link" data-scroll-target="#number-of-signed-commits">Number of signed commits</a></li>
  <li><a href="#number-of-repositories" id="toc-number-of-repositories" class="nav-link" data-scroll-target="#number-of-repositories">Number of repositories</a></li>
  <li><a href="#ratio-of-merge-commits" id="toc-ratio-of-merge-commits" class="nav-link" data-scroll-target="#ratio-of-merge-commits">Ratio of merge commits</a></li>
  <li><a href="#ratio-of-weekend-commits" id="toc-ratio-of-weekend-commits" class="nav-link" data-scroll-target="#ratio-of-weekend-commits">Ratio of weekend commits</a></li>
  <li><a href="#ratio-of-signed-commits" id="toc-ratio-of-signed-commits" class="nav-link" data-scroll-target="#ratio-of-signed-commits">Ratio of signed commits</a></li>
  <li><a href="#number-of-files-modified" id="toc-number-of-files-modified" class="nav-link" data-scroll-target="#number-of-files-modified">Number of files modified</a></li>
  <li><a href="#number-of-lines-added" id="toc-number-of-lines-added" class="nav-link" data-scroll-target="#number-of-lines-added">Number of lines added</a></li>
  <li><a href="#number-of-lines-removed" id="toc-number-of-lines-removed" class="nav-link" data-scroll-target="#number-of-lines-removed">Number of lines removed</a></li>
  <li><a href="#length-of-commit-message" id="toc-length-of-commit-message" class="nav-link" data-scroll-target="#length-of-commit-message">Length of commit message</a></li>
  <li><a href="#length-of-commit-message-number-of-words" id="toc-length-of-commit-message-number-of-words" class="nav-link" data-scroll-target="#length-of-commit-message-number-of-words">Length of commit message, number of words</a></li>
  </ul></li>
  <li><a href="#transformation-cualitative-variables" id="toc-transformation-cualitative-variables" class="nav-link" data-scroll-target="#transformation-cualitative-variables">Transformation: Cualitative variables</a>
  <ul class="collapse">
  <li><a href="#heuristic-terms" id="toc-heuristic-terms" class="nav-link" data-scroll-target="#heuristic-terms">Heuristic terms</a></li>
  </ul></li>
  <li><a href="#correlation-after-transforming-the-variables" id="toc-correlation-after-transforming-the-variables" class="nav-link" data-scroll-target="#correlation-after-transforming-the-variables">Correlation after transforming the variables</a></li>
  <li><a href="#imbalanced-data" id="toc-imbalanced-data" class="nav-link" data-scroll-target="#imbalanced-data">Imbalanced data</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Exploratory Data Analysis</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">




  </div>


</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Wikimedia Foundation has the <a href="https://wikimedia.biterg.io/">Wikimedia Tech community metrics dashboard</a>, which is a running GrimoireLab instance maintained by Bitergia dedicated to get activity metrics from the Wikimedia Tech community. In their <a href="https://www.mediawiki.org/wiki/Community_metrics">public documentation</a> it is linked to the list of repositories they are tracking for their community metrics dashboard.</p>
<p>I decided to set up a local GrimoireLab instance with a <a href="https://github.com/mafesan/2021-tfm-code/blob/main/default-grimoirelab-settings/projects.json">subset of the projects</a>. As the main goal of this project is to detect automated accounts out of human accounts, I decided to apply a first filter to exclude most of Wikimedia’s research projects. Research projects usually don’t have the desired scale nor the level of activity required for the classification stage. Also, the results could not be as much generalized to other projects and communities.</p>
<p>As for the selected data sources to analyze, this project is focused on the data from Git. Some of the selected repositories were stored on GitHub, others were stored in a Wikimedia-managed Gerrit instance.</p>
</section>
<section id="data-overview" class="level2">
<h2 class="anchored" data-anchor-id="data-overview">Data overview</h2>
<p>GrimoireLab downloads each Git repository and parses the Git log, storing all the history of commits. From this record per repository, GrimoireLab composes a JSON document per commit, with a set of fields that reflects the information associated with it, such as the unique identifier <em>hash</em>, the number of modified lines, the number of modified files, the commit message, and more. Then, there is another internal process where this data gets complemented with extra fields, such as the identity information matched with the one from the identity management system and some pre-processed fields that allow aggregating the data in a simpler way in Kibana, the visualization layer form the Elastic stack.</p>
<p>Summarizing, the <code>git</code> index stores one document per commit, with a set of fields whose meaning is described in the corresponding <a href="https://github.com/chaoss/grimoirelab-elk/blob/master/schema/git.csv">data schema</a>.</p>
<p>The extracted data considers Git commits submitted from January 1st, 2008 to September 15th, 2021. From the configured repositories, we have logs from 2,876 out of 2,988 repositories.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/dashboard.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Dashboard showing the data obtained with GrimoireLab</figcaption><p></p>
</figure>
</div>
</section>
<section id="data-curation-identities-management" class="level2">
<h2 class="anchored" data-anchor-id="data-curation-identities-management">Data curation: identities management</h2>
<p>The next step is to curate the identities’ information. The GrimoireLab tool managing this process, SortingHat, offers mechanisms to automatically improve some key data.</p>
<p>Regarding account-merging, SortingHat offers many possibilities to merge profiles based on different fields from individuals (email, name and username) both individually or jointly. As we are not assuming any information, the safest approach was to merge profiles by their email. That is, if there are two or more individuals using the same email account, they are merged into the same profile.</p>
<p>Then, it comes the affiliation information. SortingHat offers a way to automatically enroll individuals in an organization based on the email domain from the profile. This is done by using an organization-domain map (e.g.: Domain is linked to the organization “Wikimedia Foundation”.</p>
<p>Having said this, SortingHat does not have any automated way to detect which individuals are automatics accounts Bots, and this is where the proposed tool, Revelio, comes to play.</p>
<p>In order to identify which individuals were bots, I followed two approaches: * The first step consisted of taking all the accounts which were already identified as “Bots” by the Wikimedia tech community itself in a dedicated <a href="https://wikimedia.biterg.io/app/kibana#/dashboard/Affiliations">Affiliations dashboard</a>, filtering in Bot individuals (<code>author_bot:true</code>) from their ElasticSearch <code>git</code> index. * Second, I manually reviewed the rest of the individuals to identify potential bots and then confirm they were looking at their activity. A total of 41 bot individuals were identified, out of 16,284. With this information, I composed a <a href="https://github.com/mafesan/2021-tfm-code/blob/main/default-grimoirelab-settings/identities.yml">SortingHat-supported file</a> with the information of each Bot individual, for replication purposes.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/bot-profile.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Example of a profile marked as Bot in HatStall, the current interface for SortingHat</figcaption><p></p>
</figure>
</div>
</section>
<section id="initial-exploration" class="level2">
<h2 class="anchored" data-anchor-id="initial-exploration">Initial exploration</h2>
<p>GrimoireLab downloads each Git repository and parses the Git log, storing all the history of commits. From this record per repository, GrimoireLab composes a JSON document per commit, with a set of fields that reflects the information associated with it, such as the unique identifier (<code>hash</code>), the number of modified lines, the number of modified files, the commit message, and more. Then, there is another internal process where this data gets complemented with extra fields, such as the identity information matched with the one from the identity management system and some pre-processed fields that allow aggregating the data in a simpler way in Kibana, the visualization layer form the Elastic stack.</p>
<p>Summarizing, the <strong>git</strong> index stores one document per commit, with a set of fields whose meaning is described in the corresponding <a href="https://github.com/chaoss/grimoirelab-elk/blob/master/schema/git.csv">data schema</a>.</p>
<p>For the selected period of time, these were the overall numbers in terms of commits:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/summary.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Overall numbers</figcaption><p></p>
</figure>
</div>
<p>And these were the overall numbers in terms of contributors:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/contributors.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Number of active contributors</figcaption><p></p>
</figure>
</div>
<p>Here are the number of active contributors over time (monthly), splited by those tagged as “Bots” and the those who were not (note that the graph is shown in logaritmic scale):</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/authors-over-time.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Number of active contributors over time</figcaption><p></p>
</figure>
</div>
<p>These are the number of commits submitted over time (monthy), splited by those submitted by individuals tagged as “Bots” and those who were not:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/commits-over-time.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Number of commits over time</figcaption><p></p>
</figure>
</div>
<p>And the following graph shows the number of active repositories over time (monthly), during the selected period of time:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/active-repos.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Active Repositories over time</figcaption><p></p>
</figure>
</div>
</section>
<section id="objectives-goals-and-questions" class="level2">
<h2 class="anchored" data-anchor-id="objectives-goals-and-questions">Objectives: Goals and questions</h2>
<section id="goal-1" class="level3">
<h3 class="anchored" data-anchor-id="goal-1">Goal 1</h3>
<p>Have an automatic process to discriminate between human users and Bot accounts, integrated with the GrimoireLab toolset.</p>
<section id="questions" class="level4">
<h4 class="anchored" data-anchor-id="questions">Questions</h4>
<ul>
<li><strong>Q1.1.</strong> How to separate bot accounts from human users?</li>
<li><strong>Q1.2.</strong> Is the profile information from a given individual enough to classify it as human or Bot?</li>
<li><strong>Q1.3.</strong> Are there differences between the activity generated by humans and bots?</li>
</ul>
</section>
</section>
<section id="goal-2" class="level3">
<h3 class="anchored" data-anchor-id="goal-2">Goal 2</h3>
<p>Find which channels and footprints can be used to classify a user as human or Bot.</p>
<section id="questions-1" class="level4">
<h4 class="anchored" data-anchor-id="questions-1">Questions</h4>
<ul>
<li><strong>Q2.1.</strong> Are there any particular channels and footprints, as a combination of interac- tions which can be used to classify a user as human or bot?</li>
<li><strong>Q2.2.</strong> Message content (commit messages, issue texts, etc.) can be used to validate this classification?
<ul>
<li><strong>Q2.2.1.</strong> Does a richer syntax give a hint about the nature of the user?</li>
<li><strong>Q2.2.2.</strong> Can the entropy of a comment give a hint about the nature of the user?</li>
</ul></li>
<li><strong>Q2.3.</strong> Do working hours and frequency of contributions help on this classification?</li>
</ul>
</section>
</section>
</section>
<section id="metrics" class="level2">
<h2 class="anchored" data-anchor-id="metrics">Metrics</h2>
<section id="git-commits-per-individual" class="level3">
<h3 class="anchored" data-anchor-id="git-commits-per-individual">Git (commits), per individual</h3>
<ul>
<li><strong>M1</strong>: Number of commits by a given uthor.</li>
<li><strong>M2</strong>: Number of modified files per commit by a given author.</li>
<li><strong>M3</strong>: Number of added lines per commit by a given author.</li>
<li><strong>M4</strong>: Number of removed lines per commit by a given author.</li>
<li><strong>M5</strong>: Length of the commit message per commit by a given author.</li>
<li><strong>M6</strong>: Richness of the syntax of a given author.</li>
<li><strong>M7</strong>: Number of verified (signed-off) commits by a given author.</li>
<li><strong>M8</strong>: Commit frequency (Time between commits) by a given author.</li>
<li><strong>M9</strong>: Number of commits submitted during working days by a given author.</li>
<li><strong>M10</strong>: Number of commits submitted during weekends by a given author.</li>
<li><strong>M11</strong>: Number of unique repositories where the commits from a given author come from.</li>
<li><strong>M12</strong>: Does the author name contain any keywords?</li>
<li><strong>M13</strong>: Is the author marked as bot?</li>
</ul>
</section>
</section>
<section id="extracting-the-data-from-elasticsearch" class="level2">
<h2 class="anchored" data-anchor-id="extracting-the-data-from-elasticsearch">Extracting the data from ElasticSearch</h2>
<p>The piece of code in charge of retrieving this data is the script <a href="https://github.com/mafesan/2021-tfm-code/blob/main/revelio/ES-extract-datasets.py"><code>ES-extract-datasets.py</code></a>.</p>
<p>A first process executes a <em>bucket</em> aggregation using the unique identifier for the contributor identities, <code>author_uuid</code>. This first query produces a list of contributors sending commits during a given period of time. Then, a second process executes a query for each author to retrieve the history of commits, asking for the fields that were defined in the following table:</p>
<table class="table">
<colgroup>
<col style="width: 40%">
<col style="width: 60%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Field name</strong></th>
<th><strong>Field description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>author_bot</code></td>
<td>Boolean value, true if the given author is identified as a bot in SortingHat</td>
</tr>
<tr class="even">
<td><code>author_date</code></td>
<td>Author date (when the original author made the commit)</td>
</tr>
<tr class="odd">
<td><code>author_name</code></td>
<td>Author name from SortingHat</td>
</tr>
<tr class="even">
<td><code>author_uuid</code></td>
<td>Author UUID from SortingHat</td>
</tr>
<tr class="odd">
<td><code>commit_date_weekday</code></td>
<td>Day of the week when the committer made the commit</td>
</tr>
<tr class="even">
<td><code>commit_name</code></td>
<td>Committer name</td>
</tr>
<tr class="odd">
<td><code>files</code></td>
<td>Number of files touched by this commit</td>
</tr>
<tr class="even">
<td><code>grimoire_creation_date</code></td>
<td>Commit date (when the original author made the commit)</td>
</tr>
<tr class="odd">
<td><code>hash</code></td>
<td>Commit hash</td>
</tr>
<tr class="even">
<td><code>lines_added</code></td>
<td>Number of lines added by this commit</td>
</tr>
<tr class="odd">
<td><code>lines_removed</code></td>
<td>Number of lines removed by this commit</td>
</tr>
<tr class="even">
<td><code>message</code></td>
<td>Commit message as a single String</td>
</tr>
<tr class="odd">
<td><code>time_to_commit_hours</code></td>
<td>Time in hours from author date to commit date</td>
</tr>
<tr class="even">
<td><code>repo_name</code></td>
<td>Repository the commit was submitted to</td>
</tr>
<tr class="odd">
<td><code>utc_commit</code></td>
<td>Commit date in UTC</td>
</tr>
</tbody>
</table>
<p>Although the results are paginated, this process is split by monthly date ranges from the main time period considered for the study, in this case from January 1st, 2008 to September 15th, 2021.</p>
<p>The output is a set of JSON files, one per unique contributor, containing the targeted variables for all of the commits.</p>
</section>
<section id="studying-the-contributors-dataset" class="level2">
<h2 class="anchored" data-anchor-id="studying-the-contributors-dataset">Studying the “contributors dataset”</h2>
<p>As the Revelio tool is meant to be integrated with SortingHat, the decision was to use the unique individuals as the entry values for the classification model, which will predict if a given contributor is a bot or not.</p>
<p>Our first data-set is composed by single commits per author, and our new data-set needs to have one entry per contributor, which mens we need ways to represent the information from the history of commits for each author. Following the metrics defined using the GQM approach, data is processed as follows, with this list of variables per contributor:</p>
<ul>
<li>The unique identifier of the author from SortingHat, used as the index field.</li>
<li>The name of the author from SortingHat.</li>
<li>The classification of the author as a bot or not, from SortingHat.</li>
<li>The number of unique commits.</li>
<li>The number of merge commits, which are the ones modifying no files.</li>
<li>The number of commits submitted during weekends (either on Saturday or Sunday).</li>
<li>The number of commits that have been signed off.</li>
<li>The unique number of repositories an author contributed to.</li>
</ul>
<p>Apart from these variables, another set is defined from statistical calculations:</p>
<ul>
<li>The ratio of merge commits, over the total number of commits.</li>
<li>The ratio of commits submitted during weekends, over the total number of commits.</li>
<li>The ratio of merge commits over the total number of commits.</li>
<li>The ratio of signed commits over the total number of commits.</li>
<li>The median and the interquartile range for:
<ul>
<li>the number of modified files per commit.</li>
<li>the number of added lines per commit.</li>
<li>the number of removed lines per commit.</li>
<li>the length of the commit message.</li>
<li>the number of words (including stop-words) of the commit messages.</li>
</ul></li>
</ul>
<p>For this last set of statistical calculations, it is necessary having a minimum amount of commits per author. In order to avoid having data from pet projects and casual users (for example, some contributors only submit a small number of contributions as part of a learning course), an additional criterion is to <strong>ignore those authors having less than 10 commits</strong> for the selected time period. The script performing this processing is <a href="https://github.com/mafesan/2021-tfm-code/blob/main/revelio/build-classifier-input.py"><code>build-classifier-input.py</code></a>.</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Avoid to regenerate the plots if it is not needed (it takes a lot of time)</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>REGENERATE_PLOTS <span class="op">=</span> <span class="va">True</span></span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a>pd.options.mode.chained_assignment <span class="op">=</span> <span class="va">None</span>  <span class="co"># default='warn'</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>data_path <span class="op">=</span> <span class="st">'./datasets'</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>df_git <span class="op">=</span> pd.read_json(<span class="st">'</span><span class="sc">{}</span><span class="st">/df_git.json'</span>.<span class="bu">format</span>(data_path), orient<span class="op">=</span><span class="st">'records'</span>, lines<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb1-10"><a href="#cb1-10"></a>(num_rows, num_cols) <span class="op">=</span> df_git.shape</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="bu">print</span>(<span class="st">'The filtered dataset contains </span><span class="sc">{}</span><span class="st"> rows (authors) and </span><span class="sc">{}</span><span class="st"> columns (variables).'</span>\</span>
<span id="cb1-12"><a href="#cb1-12"></a>      .<span class="bu">format</span>(num_rows, num_cols))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The filtered dataset contains 3347 rows (authors) and 21 columns (variables).</code></pre>
</div>
</div>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Make sure all the data types are correct </span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>convert_dict <span class="op">=</span> {<span class="st">'git__num_commits'</span>: <span class="bu">int</span>,</span>
<span id="cb3-4"><a href="#cb3-4"></a>                <span class="st">'git__num_repos'</span>: <span class="bu">int</span>,</span>
<span id="cb3-5"><a href="#cb3-5"></a>                <span class="st">'git__num_merge_commits'</span>: <span class="bu">int</span>,</span>
<span id="cb3-6"><a href="#cb3-6"></a>                <span class="st">'git__num_weekend_commits'</span>: <span class="bu">int</span>,</span>
<span id="cb3-7"><a href="#cb3-7"></a>                <span class="st">'git__num_signed_commits'</span>: <span class="bu">int</span>,</span>
<span id="cb3-8"><a href="#cb3-8"></a>                <span class="st">'git__ratio_merge_commits'</span>: <span class="bu">float</span>,</span>
<span id="cb3-9"><a href="#cb3-9"></a>                <span class="st">'git__ratio_weekend_commits'</span>: <span class="bu">float</span>,</span>
<span id="cb3-10"><a href="#cb3-10"></a>                <span class="st">'git__ratio_signed_commits'</span>: <span class="bu">float</span>,</span>
<span id="cb3-11"><a href="#cb3-11"></a>                <span class="st">'git__median_files'</span>: <span class="bu">float</span>,</span>
<span id="cb3-12"><a href="#cb3-12"></a>                <span class="st">'git__iqr_files'</span>: <span class="bu">float</span>,</span>
<span id="cb3-13"><a href="#cb3-13"></a>                <span class="st">'git__median_lines_added'</span>: <span class="bu">float</span>,</span>
<span id="cb3-14"><a href="#cb3-14"></a>                <span class="st">'git__iqr_lines_added'</span>: <span class="bu">float</span>,</span>
<span id="cb3-15"><a href="#cb3-15"></a>                <span class="st">'git__median_lines_removed'</span>: <span class="bu">float</span>,</span>
<span id="cb3-16"><a href="#cb3-16"></a>                <span class="st">'git__iqr_lines_removed'</span>: <span class="bu">float</span>,</span>
<span id="cb3-17"><a href="#cb3-17"></a>                <span class="st">'git__median_len_commit_message'</span>: <span class="bu">float</span>,</span>
<span id="cb3-18"><a href="#cb3-18"></a>                <span class="st">'git__iqr_len_commit_message'</span>: <span class="bu">float</span>,</span>
<span id="cb3-19"><a href="#cb3-19"></a>                <span class="st">'git__median_len_words_commit_message'</span>: <span class="bu">float</span>,</span>
<span id="cb3-20"><a href="#cb3-20"></a>                <span class="st">'git__iqr_len_words_commit_message'</span>: <span class="bu">float</span>,</span>
<span id="cb3-21"><a href="#cb3-21"></a>                <span class="st">'author_bot'</span>: <span class="bu">bool</span></span>
<span id="cb3-22"><a href="#cb3-22"></a>               }</span>
<span id="cb3-23"><a href="#cb3-23"></a> </span>
<span id="cb3-24"><a href="#cb3-24"></a>df_git <span class="op">=</span> df_git.astype(convert_dict)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This is how the first rows of the “contributors dataset” looks like, ommiting contributor names for privacy concerns.</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Let's show how the "contributors dataset" looks like, ommiting contributor names for privacy concerns.</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>df_git[df_git.columns.difference([<span class="st">'author_name'</span>])].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="3">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>author_bot</th>
      <th>author_uuid</th>
      <th>git__iqr_files</th>
      <th>git__iqr_len_commit_message</th>
      <th>git__iqr_len_words_commit_message</th>
      <th>git__iqr_lines_added</th>
      <th>git__iqr_lines_removed</th>
      <th>git__median_files</th>
      <th>git__median_len_commit_message</th>
      <th>git__median_len_words_commit_message</th>
      <th>git__median_lines_added</th>
      <th>git__median_lines_removed</th>
      <th>git__num_commits</th>
      <th>git__num_merge_commits</th>
      <th>git__num_repos</th>
      <th>git__num_signed_commits</th>
      <th>git__num_weekend_commits</th>
      <th>git__ratio_merge_commits</th>
      <th>git__ratio_signed_commits</th>
      <th>git__ratio_weekend_commits</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>39b23ad68a2ca87cb28af6d571a31fe9fd72a366</td>
      <td>5.0</td>
      <td>26.00</td>
      <td>7.00</td>
      <td>67.0</td>
      <td>39.00</td>
      <td>4.0</td>
      <td>70.0</td>
      <td>11.0</td>
      <td>33.0</td>
      <td>4.0</td>
      <td>16</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.125000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>2d563cc8a74c8f8b7a4ad8e36ab3f810c227f464</td>
      <td>4.0</td>
      <td>52.50</td>
      <td>5.50</td>
      <td>40.5</td>
      <td>25.50</td>
      <td>2.0</td>
      <td>45.0</td>
      <td>6.0</td>
      <td>10.0</td>
      <td>4.0</td>
      <td>163</td>
      <td>11</td>
      <td>4</td>
      <td>0</td>
      <td>45</td>
      <td>0.067485</td>
      <td>0.0</td>
      <td>0.276074</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>ed35b70452aa12dfa89cfdef83877b669132f35f</td>
      <td>0.0</td>
      <td>80.75</td>
      <td>12.75</td>
      <td>116.5</td>
      <td>1.75</td>
      <td>1.0</td>
      <td>102.0</td>
      <td>8.5</td>
      <td>68.0</td>
      <td>0.5</td>
      <td>10</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>3</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.300000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>3e6c85aacf2fd8f5310154f4d93f1cc033ca986f</td>
      <td>1.0</td>
      <td>81.00</td>
      <td>10.00</td>
      <td>18.0</td>
      <td>7.00</td>
      <td>1.0</td>
      <td>124.0</td>
      <td>12.0</td>
      <td>5.0</td>
      <td>2.0</td>
      <td>463</td>
      <td>58</td>
      <td>32</td>
      <td>0</td>
      <td>23</td>
      <td>0.125270</td>
      <td>0.0</td>
      <td>0.049676</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>3fe285cb6de486fb36d57de48f4cb618a07d70cc</td>
      <td>7.0</td>
      <td>36.50</td>
      <td>5.50</td>
      <td>190.5</td>
      <td>45.00</td>
      <td>2.0</td>
      <td>71.0</td>
      <td>11.0</td>
      <td>28.0</td>
      <td>6.0</td>
      <td>19</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.052632</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<section id="variable-types" class="level3">
<h3 class="anchored" data-anchor-id="variable-types">Variable types</h3>
<p>The variables from this data set can be groupped according to the type of their values:</p>
<ul>
<li>Quantitative variables: 19
<ul>
<li>Discrete: 6</li>
<li>Continuous: 13</li>
</ul></li>
<li>Categorical variables: 3</li>
</ul>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 30%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Variable</strong></th>
<th style="text-align: left;"><strong>Description</strong></th>
<th style="text-align: left;"><strong>Type</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>Index</code></td>
<td style="text-align: left;">Row index</td>
<td style="text-align: left;">Quantitative, discrete</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>author_uuid</code></td>
<td style="text-align: left;">Unique identifier of the individual, from GrimoireLab’s SortingHat</td>
<td style="text-align: left;">Categorical</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>author_name</code></td>
<td style="text-align: left;">Name of the individual, as it appears on GrimoireLab’s SortingHat</td>
<td style="text-align: left;">Categorical</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>author_bot</code></td>
<td style="text-align: left;">Boolean value, True if the individual corresponds to a “Bot”; False otherwise</td>
<td style="text-align: left;">Categorical, binary</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__num_commits</code></td>
<td style="text-align: left;">Number of unique commits submitted by this individual, for the given period of time</td>
<td style="text-align: left;">Quantitative, discrete</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__num_merge_commits</code></td>
<td style="text-align: left;">Number of “merge” commits submitted by this individual, for the given period of time</td>
<td style="text-align: left;">Quantitative, discrete</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__num_weekend_commits</code></td>
<td style="text-align: left;">Number of commits submitted by this individual during weekends (saturday or sunday), for the given period of time</td>
<td style="text-align: left;">Quantitative, discrete</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__num_signed_commits</code></td>
<td style="text-align: left;">Number of signed commits, for the given period of time</td>
<td style="text-align: left;">Quantitative, discrete</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__num_repos</code></td>
<td style="text-align: left;">Number unique repositories the author contributed to, for the given period of time</td>
<td style="text-align: left;">Quantitative, discrete</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__ratio_merge_commits</code></td>
<td style="text-align: left;">Ratio, number of “merge” commits divided by the total number of commits. 0 if there are not “merge” commits</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__ratio_weekend_commits</code></td>
<td style="text-align: left;">Ratio, number of commits submitted during weekends divided by the total number of commits. 0 if there are not commits submitted during weekends</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__ratio_signed_commits</code></td>
<td style="text-align: left;">Ratio, number of signed commits divided by the total number of commits. 0 if there are not signed commits</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__iqr_files</code></td>
<td style="text-align: left;">Interquartilic range, computed over the number of files modified per commit, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__median_files</code></td>
<td style="text-align: left;">Median of the number of files modified per commit, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__iqr_lines_added</code></td>
<td style="text-align: left;">Interquartilic range, computed over the number of lines added per commit, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__median_lines_added</code></td>
<td style="text-align: left;">Median of the number of lines added per commit, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__iqr_lines_removed</code></td>
<td style="text-align: left;">Interquartilic range, computed over the number of lines removed per commit, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__median_lines_removed</code></td>
<td style="text-align: left;">Median of the number of lines removed per commit, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__iqr_len_commit_message</code></td>
<td style="text-align: left;">Interquartilic range, computed over of the number of characters from each commit message, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__median_len_commit_message</code></td>
<td style="text-align: left;">Median of the number of characters from each commit message, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>git__iqr_len_words_commit_message</code></td>
<td style="text-align: left;">Interquartilic range, computed over the number of words[1] from each commit message, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>git__median_len_words_commit_message</code></td>
<td style="text-align: left;">Median of the number of words[1] from each commit message, for all the commits submitted by this individual</td>
<td style="text-align: left;">Quantitative, continuous</td>
</tr>
</tbody>
</table>
<p>[1] Words are counted as groups of characters splitted by whitespace characters within a commit message.</p>
</section>
<section id="correlation" class="level3">
<h3 class="anchored" data-anchor-id="correlation">Correlation</h3>
<p>This the initial correlation matrix :</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb5-3"><a href="#cb5-3"></a></span>
<span id="cb5-4"><a href="#cb5-4"></a>df_git_corr_matrix <span class="op">=</span> df_git.corr().<span class="bu">abs</span>()</span>
<span id="cb5-5"><a href="#cb5-5"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb5-6"><a href="#cb5-6"></a>ax <span class="op">=</span> sns.heatmap(</span>
<span id="cb5-7"><a href="#cb5-7"></a>    df_git_corr_matrix,</span>
<span id="cb5-8"><a href="#cb5-8"></a>    linewidths<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb5-9"><a href="#cb5-9"></a>    square<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb5-10"><a href="#cb5-10"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb5-11"><a href="#cb5-11"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb5-12"><a href="#cb5-12"></a>    cmap<span class="op">=</span><span class="st">'coolwarm'</span></span>
<span id="cb5-13"><a href="#cb5-13"></a>)</span>
<span id="cb5-14"><a href="#cb5-14"></a>ax.set_xticklabels(</span>
<span id="cb5-15"><a href="#cb5-15"></a>    ax.get_xticklabels(),</span>
<span id="cb5-16"><a href="#cb5-16"></a>    rotation<span class="op">=</span><span class="dv">60</span>,</span>
<span id="cb5-17"><a href="#cb5-17"></a>    horizontalalignment<span class="op">=</span><span class="st">'right'</span>,</span>
<span id="cb5-18"><a href="#cb5-18"></a>)<span class="op">;</span></span>
<span id="cb5-19"><a href="#cb5-19"></a></span>
<span id="cb5-20"><a href="#cb5-20"></a>plt.savefig(<span class="st">'docs/imgs/eda_corr_heatmap_as_is.png'</span>, dpi<span class="op">=</span><span class="dv">600</span>, bbox_inches<span class="op">=</span><span class="st">'tight'</span>, pad_inches<span class="op">=</span><span class="fl">1.5</span>, transparent<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="statistical-distribution-of-variables" class="level3">
<h3 class="anchored" data-anchor-id="statistical-distribution-of-variables">Statistical distribution of variables</h3>
<p>We start with our target feature: the first thing we observe is that we have a huge imbalance between the classes we aim to classify.</p>
<section id="target-variable-author_bot" class="level4">
<h4 class="anchored" data-anchor-id="target-variable-author_bot">Target variable: author_bot</h4>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>sns.<span class="bu">set</span>(style<span class="op">=</span><span class="st">"darkgrid"</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">7</span>), dpi<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>sns.countplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"author_bot"</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-6-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="rest-of-variables" class="level4">
<h4 class="anchored" data-anchor-id="rest-of-variables">Rest of variables</h4>
<p>Let’s represent the frequency distribution of all the variables in our “Contributors dataset”:</p>
<section id="group-1" class="level5">
<h5 class="anchored" data-anchor-id="group-1">Group 1</h5>
<table class="table">
<tbody>
<tr class="odd">
<td>git__num_weekend_commits</td>
<td>git__num_merge_commits</td>
</tr>
<tr class="even">
<td>git__num_signed_commits</td>
<td>git__num_commits</td>
</tr>
</tbody>
</table>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb7-2"><a href="#cb7-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">10</span>))</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__num_weekend_commits"</span>, discrete<span class="op">=</span><span class="va">True</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">0</span>])</span>
<span id="cb7-5"><a href="#cb7-5"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__num_merge_commits"</span>, discrete<span class="op">=</span><span class="va">True</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"olive"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb7-6"><a href="#cb7-6"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__num_signed_commits"</span>, discrete<span class="op">=</span><span class="va">True</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"gold"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">1</span>])</span>
<span id="cb7-7"><a href="#cb7-7"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__num_commits"</span>, discrete<span class="op">=</span><span class="va">True</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">0</span>]).tick_params(axis<span class="op">=</span><span class="st">'x'</span>, labelrotation<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb7-8"><a href="#cb7-8"></a></span>
<span id="cb7-9"><a href="#cb7-9"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-7-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
<section id="group-2" class="level5">
<h5 class="anchored" data-anchor-id="group-2">Group 2</h5>
<table class="table">
<tbody>
<tr class="odd">
<td>git__ratio_weekend_commits</td>
<td>git__ratio_merge_commits</td>
</tr>
<tr class="even">
<td>git__ratio_signed_commits</td>
<td>git__num_repos</td>
</tr>
</tbody>
</table>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb8-2"><a href="#cb8-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">10</span>))</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__ratio_weekend_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">0</span>])</span>
<span id="cb8-5"><a href="#cb8-5"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__ratio_merge_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"olive"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb8-6"><a href="#cb8-6"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__ratio_signed_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"gold"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">0</span>])</span>
<span id="cb8-7"><a href="#cb8-7"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__num_repos"</span>, discrete<span class="op">=</span><span class="va">True</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">1</span>]).tick_params(axis<span class="op">=</span><span class="st">'x'</span>, labelrotation<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb8-8"><a href="#cb8-8"></a></span>
<span id="cb8-9"><a href="#cb8-9"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-8-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
<section id="group-3" class="level5">
<h5 class="anchored" data-anchor-id="group-3">Group 3</h5>
<table class="table">
<tbody>
<tr class="odd">
<td>git__median_files</td>
<td>git__iqr_files</td>
</tr>
<tr class="even">
<td>git__median_lines_added</td>
<td>git__iqr_lines_added</td>
</tr>
</tbody>
</table>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="8">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb9-2"><a href="#cb9-2"></a>    </span>
<span id="cb9-3"><a href="#cb9-3"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">10</span>))</span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__median_files"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">0</span>])</span>
<span id="cb9-6"><a href="#cb9-6"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__iqr_files"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"olive"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb9-7"><a href="#cb9-7"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__median_lines_added"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"gold"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">0</span>])</span>
<span id="cb9-8"><a href="#cb9-8"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__iqr_lines_added"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">1</span>])</span>
<span id="cb9-9"><a href="#cb9-9"></a></span>
<span id="cb9-10"><a href="#cb9-10"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-9-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
<section id="group-4" class="level5">
<h5 class="anchored" data-anchor-id="group-4">Group 4</h5>
<table class="table">
<tbody>
<tr class="odd">
<td>git__median_lines_removed</td>
<td>git__iqr_lines_removed</td>
</tr>
<tr class="even">
<td>git__median_len_commit_message</td>
<td>git__iqr_len_commit_message</td>
</tr>
</tbody>
</table>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="9">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb10-2"><a href="#cb10-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">10</span>))</span>
<span id="cb10-3"><a href="#cb10-3"></a></span>
<span id="cb10-4"><a href="#cb10-4"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__median_lines_removed"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">0</span>])</span>
<span id="cb10-5"><a href="#cb10-5"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__iqr_lines_removed"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"olive"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>, <span class="dv">1</span>])</span>
<span id="cb10-6"><a href="#cb10-6"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__median_len_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"gold"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">0</span>])</span>
<span id="cb10-7"><a href="#cb10-7"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__iqr_len_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>, <span class="dv">1</span>])</span>
<span id="cb10-8"><a href="#cb10-8"></a></span>
<span id="cb10-9"><a href="#cb10-9"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-10-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
<section id="group-5" class="level5">
<h5 class="anchored" data-anchor-id="group-5">Group 5</h5>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<tbody>
<tr class="odd">
<td>git__median_len_words_commit_message</td>
<td>git__iqr_len_words_commit_message</td>
</tr>
</tbody>
</table>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb11-2"><a href="#cb11-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">5</span>))</span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__median_len_words_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb11-5"><a href="#cb11-5"></a>    sns.histplot(data<span class="op">=</span>df_git, x<span class="op">=</span><span class="st">"git__iqr_len_words_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"olive"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-11-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="generate-training-test-and-validation-sets" class="level1">
<h1>Generate training, test and validation sets</h1>
<p>The main dataset needs to be split into subsets for the classification stage: * one for training (60% of the samples) * one for testing (25% of the samples) * another one for validation (15% of the samples).</p>
<p>These subsets need to be statistically similar, so the sample needs to be stratified in order to keep the human/bot proportion. The method <code>train_test_split</code> from Scikit-Learn’s <code>model_selection</code> module was used to obtain these subsets, by using the option <code>stratify</code>.</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="11">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co"># Separate target variable</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>y_git <span class="op">=</span> df_git.pop(<span class="st">'author_bot'</span>)</span>
<span id="cb12-5"><a href="#cb12-5"></a></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co"># Divide the Dataset into 60% training and 40% test + validation</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>X_train_git, X_test_tmp_git,<span class="op">\</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>y_train_git, y_test_tmp_git <span class="op">=</span> train_test_split(df_git, y_git, test_size<span class="op">=</span><span class="fl">0.4</span>,</span>
<span id="cb12-9"><a href="#cb12-9"></a>                                               random_state<span class="op">=</span><span class="dv">22</span>, stratify<span class="op">=</span>y_git)</span>
<span id="cb12-10"><a href="#cb12-10"></a></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co"># From 40% of the original dataset, 25% is for test and 15% is for validation</span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="co"># This means we have to split the test+validation set in a 62,5%/37,5% ratio</span></span>
<span id="cb12-13"><a href="#cb12-13"></a></span>
<span id="cb12-14"><a href="#cb12-14"></a>X_test_git, X_val_git,<span class="op">\</span></span>
<span id="cb12-15"><a href="#cb12-15"></a>y_test_git, y_val_git <span class="op">=</span> train_test_split(X_test_tmp_git, y_test_tmp_git,</span>
<span id="cb12-16"><a href="#cb12-16"></a>                                         test_size<span class="op">=</span><span class="fl">0.375</span>, random_state<span class="op">=</span><span class="dv">22</span>,</span>
<span id="cb12-17"><a href="#cb12-17"></a>                                         stratify<span class="op">=</span>y_test_tmp_git)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="pre-processing-of-the-training-dataset" class="level1">
<h1>Pre-processing of the Training Dataset</h1>
<section id="detection-and-processing-of-missing-data-training-dataset" class="level2">
<h2 class="anchored" data-anchor-id="detection-and-processing-of-missing-data-training-dataset">Detection and processing of missing data: Training dataset</h2>
<p>The data is provided by the GrimoireLab tool set, and the dataset is a collection of information from Git commits. The fields and the information per commit are expected to be standard.</p>
<p>As we are building in a later step a custom dataset summarizing information per author, we are not having missing data except for author-related information, such as the author’s name, username, or email (at least one of these three variables has to have a non-empty value).</p>
</section>
<section id="correlation-training-dataset" class="level2">
<h2 class="anchored" data-anchor-id="correlation-training-dataset">Correlation: Training dataset</h2>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="12">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb13-2"><a href="#cb13-2"></a>ax <span class="op">=</span> sns.heatmap(</span>
<span id="cb13-3"><a href="#cb13-3"></a>    X_train_git.corr().<span class="bu">abs</span>(),</span>
<span id="cb13-4"><a href="#cb13-4"></a>    linewidths<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb13-5"><a href="#cb13-5"></a>    square<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb13-7"><a href="#cb13-7"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb13-8"><a href="#cb13-8"></a>    cmap<span class="op">=</span><span class="st">'coolwarm'</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>)</span>
<span id="cb13-10"><a href="#cb13-10"></a>ax.set_xticklabels(</span>
<span id="cb13-11"><a href="#cb13-11"></a>    ax.get_xticklabels(),</span>
<span id="cb13-12"><a href="#cb13-12"></a>    rotation<span class="op">=</span><span class="dv">60</span>,</span>
<span id="cb13-13"><a href="#cb13-13"></a>    horizontalalignment<span class="op">=</span><span class="st">'right'</span>,</span>
<span id="cb13-14"><a href="#cb13-14"></a>)<span class="op">;</span></span>
<span id="cb13-15"><a href="#cb13-15"></a></span>
<span id="cb13-16"><a href="#cb13-16"></a>plt.savefig(<span class="st">'eda_corr_heatmap_before.png'</span>, dpi<span class="op">=</span><span class="dv">600</span>, bbox_inches<span class="op">=</span><span class="st">'tight'</span>, pad_inches<span class="op">=</span><span class="fl">1.5</span>, transparent<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-13-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="transformation-quantitative-variables" class="level2">
<h2 class="anchored" data-anchor-id="transformation-quantitative-variables">Transformation: Quantitative variables</h2>
<p>Most of the features from this dataset are quantitative variables, as they are representing a summary of the information obtained from the set of commits submitted by each unique author.</p>
<p>The first examination shows that most of these quantitative variables have remarkably uneven statistical distributions. There are huge differences in the ranges of values, and also these values are widespread. Under this situation, the approximation to take was to apply mathematical functions helping to scale these values. Although several transformations were tested, most of the variables have been transformed using a customized logarithmic function[1] or the squared root function.</p>
<p>The next pairs of images show the frequency distributions of both the original variable (left) and the transformed one (right).</p>
<p>[1] <span class="math inline">\(\mathrm{sLog_{10}}(x) = Log_{10}(1 + x)\)</span></p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="13">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">def</span> log10(x):</span>
<span id="cb14-2"><a href="#cb14-2"></a>    <span class="cf">return</span> np.log(x)</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="kw">def</span> shifted_log10(x):</span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="cf">return</span> np.log(<span class="dv">1</span> <span class="op">+</span> x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="number-of-commits" class="level3">
<h3 class="anchored" data-anchor-id="number-of-commits">Number of commits</h3>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="14">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>X_train_git[<span class="st">"git__log_num_commits"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__num_commits"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="15">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb16-2"><a href="#cb16-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb16-3"><a href="#cb16-3"></a></span>
<span id="cb16-4"><a href="#cb16-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__num_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, discrete<span class="op">=</span><span class="va">True</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb16-5"><a href="#cb16-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_num_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb16-6"><a href="#cb16-6"></a></span>
<span id="cb16-7"><a href="#cb16-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-16-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="number-of-merge-commits" class="level3">
<h3 class="anchored" data-anchor-id="number-of-merge-commits">Number of merge commits</h3>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="16">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a>X_train_git[<span class="st">"git__log_num_merge_commits"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__num_merge_commits"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="17">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb18-2"><a href="#cb18-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb18-3"><a href="#cb18-3"></a></span>
<span id="cb18-4"><a href="#cb18-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__num_merge_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, discrete<span class="op">=</span><span class="va">True</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb18-5"><a href="#cb18-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_num_merge_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb18-6"><a href="#cb18-6"></a></span>
<span id="cb18-7"><a href="#cb18-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-18-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="number-of-weekend-commits" class="level3">
<h3 class="anchored" data-anchor-id="number-of-weekend-commits">Number of weekend commits</h3>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="18">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a>X_train_git[<span class="st">"git__log_num_weekend_commits"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__num_weekend_commits"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="19">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb20-2"><a href="#cb20-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb20-3"><a href="#cb20-3"></a></span>
<span id="cb20-4"><a href="#cb20-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__num_weekend_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, discrete<span class="op">=</span><span class="va">True</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb20-5"><a href="#cb20-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_num_weekend_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb20-6"><a href="#cb20-6"></a></span>
<span id="cb20-7"><a href="#cb20-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-20-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="number-of-signed-commits" class="level3">
<h3 class="anchored" data-anchor-id="number-of-signed-commits">Number of signed commits</h3>
<div class="cell" data-execution_count="20">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a>X_train_git[<span class="st">"git__log_num_signed_commits"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__num_signed_commits"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="21">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb22-2"><a href="#cb22-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb22-3"><a href="#cb22-3"></a></span>
<span id="cb22-4"><a href="#cb22-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__num_signed_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, discrete<span class="op">=</span><span class="va">True</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb22-5"><a href="#cb22-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_num_signed_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb22-6"><a href="#cb22-6"></a></span>
<span id="cb22-7"><a href="#cb22-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-22-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="number-of-repositories" class="level3">
<h3 class="anchored" data-anchor-id="number-of-repositories">Number of repositories</h3>
<div class="cell" data-execution_count="22">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a>X_train_git[<span class="st">"git__log_num_repos"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__num_repos"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="23">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb24-2"><a href="#cb24-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb24-3"><a href="#cb24-3"></a></span>
<span id="cb24-4"><a href="#cb24-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__num_repos"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, discrete<span class="op">=</span><span class="va">True</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb24-5"><a href="#cb24-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_num_repos"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb24-6"><a href="#cb24-6"></a></span>
<span id="cb24-7"><a href="#cb24-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-24-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="ratio-of-merge-commits" class="level3">
<h3 class="anchored" data-anchor-id="ratio-of-merge-commits">Ratio of merge commits</h3>
<div class="cell" data-execution_count="24">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a>X_train_git[<span class="st">"git__sqrt_ratio_merge_commits"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__ratio_merge_commits"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: np.sqrt(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="25">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb26-2"><a href="#cb26-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb26-3"><a href="#cb26-3"></a></span>
<span id="cb26-4"><a href="#cb26-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__ratio_merge_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb26-5"><a href="#cb26-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__sqrt_ratio_merge_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb26-6"><a href="#cb26-6"></a></span>
<span id="cb26-7"><a href="#cb26-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-26-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="ratio-of-weekend-commits" class="level3">
<h3 class="anchored" data-anchor-id="ratio-of-weekend-commits">Ratio of weekend commits</h3>
<div class="cell" data-execution_count="26">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a>X_train_git[<span class="st">"git__sqrt_ratio_weekend_commits"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__ratio_weekend_commits"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: np.sqrt(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="27">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb28-2"><a href="#cb28-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb28-3"><a href="#cb28-3"></a></span>
<span id="cb28-4"><a href="#cb28-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__ratio_weekend_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb28-5"><a href="#cb28-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__sqrt_ratio_weekend_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb28-6"><a href="#cb28-6"></a></span>
<span id="cb28-7"><a href="#cb28-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-28-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="ratio-of-signed-commits" class="level3">
<h3 class="anchored" data-anchor-id="ratio-of-signed-commits">Ratio of signed commits</h3>
<div class="cell" data-execution_count="28">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a>X_train_git[<span class="st">"git__sqrt_ratio_signed_commits"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__ratio_signed_commits"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: np.sqrt(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="29">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb30-2"><a href="#cb30-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb30-3"><a href="#cb30-3"></a></span>
<span id="cb30-4"><a href="#cb30-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__ratio_signed_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb30-5"><a href="#cb30-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__sqrt_ratio_signed_commits"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb30-6"><a href="#cb30-6"></a></span>
<span id="cb30-7"><a href="#cb30-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-30-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="number-of-files-modified" class="level3">
<h3 class="anchored" data-anchor-id="number-of-files-modified">Number of files modified</h3>
<section id="median" class="level4">
<h4 class="anchored" data-anchor-id="median">Median</h4>
<div class="cell" data-execution_count="30">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1"></a>X_train_git[<span class="st">"git__log_median_files"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__median_files"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="31">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb32-2"><a href="#cb32-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb32-3"><a href="#cb32-3"></a></span>
<span id="cb32-4"><a href="#cb32-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__median_files"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb32-5"><a href="#cb32-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_median_files"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb32-6"><a href="#cb32-6"></a></span>
<span id="cb32-7"><a href="#cb32-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-32-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interquartilic-range" class="level4">
<h4 class="anchored" data-anchor-id="interquartilic-range">Interquartilic range</h4>
<div class="cell" data-execution_count="32">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a>X_train_git[<span class="st">"git__log_iqr_files"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__iqr_files"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="33">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb34-2"><a href="#cb34-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb34-3"><a href="#cb34-3"></a></span>
<span id="cb34-4"><a href="#cb34-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__iqr_files"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb34-5"><a href="#cb34-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_iqr_files"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb34-6"><a href="#cb34-6"></a></span>
<span id="cb34-7"><a href="#cb34-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-34-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="number-of-lines-added" class="level3">
<h3 class="anchored" data-anchor-id="number-of-lines-added">Number of lines added</h3>
<section id="median-1" class="level4">
<h4 class="anchored" data-anchor-id="median-1">Median</h4>
<div class="cell" data-execution_count="34">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a>X_train_git[<span class="st">"git__log_median_lines_added"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__median_lines_added"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="35">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb36-2"><a href="#cb36-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb36-3"><a href="#cb36-3"></a></span>
<span id="cb36-4"><a href="#cb36-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__median_lines_added"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb36-5"><a href="#cb36-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_median_lines_added"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb36-6"><a href="#cb36-6"></a></span>
<span id="cb36-7"><a href="#cb36-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-36-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interquartilic-range-1" class="level4">
<h4 class="anchored" data-anchor-id="interquartilic-range-1">Interquartilic range</h4>
<div class="cell" data-execution_count="36">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1"></a>X_train_git[<span class="st">"git__log_iqr_lines_added"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__iqr_lines_added"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="37">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb38-2"><a href="#cb38-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb38-3"><a href="#cb38-3"></a></span>
<span id="cb38-4"><a href="#cb38-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__iqr_lines_added"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb38-5"><a href="#cb38-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_iqr_lines_added"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb38-6"><a href="#cb38-6"></a></span>
<span id="cb38-7"><a href="#cb38-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-38-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="number-of-lines-removed" class="level3">
<h3 class="anchored" data-anchor-id="number-of-lines-removed">Number of lines removed</h3>
<section id="median-2" class="level4">
<h4 class="anchored" data-anchor-id="median-2">Median</h4>
<div class="cell" data-execution_count="38">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a>X_train_git[<span class="st">"git__log_median_lines_removed"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__median_lines_removed"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="39">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb40-2"><a href="#cb40-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb40-3"><a href="#cb40-3"></a></span>
<span id="cb40-4"><a href="#cb40-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__median_lines_removed"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb40-5"><a href="#cb40-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_median_lines_removed"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb40-6"><a href="#cb40-6"></a></span>
<span id="cb40-7"><a href="#cb40-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-40-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interquartilic-range-2" class="level4">
<h4 class="anchored" data-anchor-id="interquartilic-range-2">Interquartilic range</h4>
<div class="cell" data-execution_count="40">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>X_train_git[<span class="st">"git__log_iqr_lines_removed"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__iqr_lines_removed"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="41">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb42-2"><a href="#cb42-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb42-3"><a href="#cb42-3"></a></span>
<span id="cb42-4"><a href="#cb42-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__iqr_lines_removed"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb42-5"><a href="#cb42-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_iqr_lines_removed"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb42-6"><a href="#cb42-6"></a></span>
<span id="cb42-7"><a href="#cb42-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-42-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="length-of-commit-message" class="level3">
<h3 class="anchored" data-anchor-id="length-of-commit-message">Length of commit message</h3>
<section id="median-3" class="level4">
<h4 class="anchored" data-anchor-id="median-3">Median</h4>
<div class="cell" data-execution_count="42">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a>X_train_git[<span class="st">"git__log_median_len_commit_message"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__median_len_commit_message"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="43">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb44-2"><a href="#cb44-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb44-3"><a href="#cb44-3"></a></span>
<span id="cb44-4"><a href="#cb44-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__median_len_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb44-5"><a href="#cb44-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_median_len_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb44-6"><a href="#cb44-6"></a></span>
<span id="cb44-7"><a href="#cb44-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-44-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interquartilic-range-3" class="level4">
<h4 class="anchored" data-anchor-id="interquartilic-range-3">Interquartilic range</h4>
<div class="cell" data-execution_count="44">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a>X_train_git[<span class="st">"git__log_iqr_len_commit_message"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__iqr_len_commit_message"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="45">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb46-2"><a href="#cb46-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb46-3"><a href="#cb46-3"></a></span>
<span id="cb46-4"><a href="#cb46-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__iqr_len_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb46-5"><a href="#cb46-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_iqr_len_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb46-6"><a href="#cb46-6"></a></span>
<span id="cb46-7"><a href="#cb46-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-46-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="length-of-commit-message-number-of-words" class="level3">
<h3 class="anchored" data-anchor-id="length-of-commit-message-number-of-words">Length of commit message, number of words</h3>
<section id="median-4" class="level4">
<h4 class="anchored" data-anchor-id="median-4">Median</h4>
<div class="cell" data-execution_count="46">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a>X_train_git[<span class="st">"git__log_median_len_words_commit_message"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__median_len_words_commit_message"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="47">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb48-2"><a href="#cb48-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb48-3"><a href="#cb48-3"></a></span>
<span id="cb48-4"><a href="#cb48-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__median_len_words_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb48-5"><a href="#cb48-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_median_len_words_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb48-6"><a href="#cb48-6"></a></span>
<span id="cb48-7"><a href="#cb48-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-48-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="interquartilic-range-4" class="level4">
<h4 class="anchored" data-anchor-id="interquartilic-range-4">Interquartilic range</h4>
<div class="cell" data-execution_count="48">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a>X_train_git[<span class="st">"git__log_iqr_len_words_commit_message"</span>] <span class="op">=</span> X_train_git[<span class="st">"git__iqr_len_words_commit_message"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="49">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a><span class="cf">if</span> REGENERATE_PLOTS:</span>
<span id="cb50-2"><a href="#cb50-2"></a>    fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb50-3"><a href="#cb50-3"></a></span>
<span id="cb50-4"><a href="#cb50-4"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__iqr_len_words_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb50-5"><a href="#cb50-5"></a>    sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"git__log_iqr_len_words_commit_message"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb50-6"><a href="#cb50-6"></a></span>
<span id="cb50-7"><a href="#cb50-7"></a>    plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-50-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
</section>
<section id="transformation-cualitative-variables" class="level2">
<h2 class="anchored" data-anchor-id="transformation-cualitative-variables">Transformation: Cualitative variables</h2>
<p>Most of the variables from this data-set are quantitative. Nonetheless, the statistical distribution of some of them points a need to generate qualitative, binary variables derived from them. These variables have a high bias. Looking at the statistical distribution, the general rule is observing a high peak in “0” value and then the rest of the results are spread over the histogram.</p>
<p>For this reason, these variables are transformed into binary variables. This transformation also makes sense in a conceptual way. For instance, looking at the number of merge commits, instead of counting how many of them there are, it is more meaningful knowing if a given author submitted merge commits or not.</p>
<p>The variables transformed into binary are:</p>
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 47%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th>Former field</th>
<th>Transformed field</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>git__num_merge_commits</code></td>
<td><code>git__has_merge_commits</code></td>
<td>“1” if a given author has submitted at least 1 merge commit. “0” otherwise</td>
</tr>
<tr class="even">
<td><code>git__num_weekend_commits</code></td>
<td><code>git__has_weekend_commits</code></td>
<td>“1” if a given author has submitted at least 1 commit during weekends (Saturday or Sunday). “0” otherwise</td>
</tr>
<tr class="odd">
<td><code>git__num_signed_commits</code></td>
<td><code>git__has_signed_commits</code></td>
<td>“1” if a given author has submitted at least 1 signed commit. “0” otherwise</td>
</tr>
<tr class="even">
<td><code>git__median_lines_added</code></td>
<td><code>git__mostly_not_adding_lines</code></td>
<td>“1” if the median of added lines for that author is “0” (this author is not adding lines in at least 50% of the commits), “0” otherwise</td>
</tr>
<tr class="odd">
<td><code>git__median_lines_removed</code></td>
<td><code>git__mostly_not_removing_lines</code></td>
<td>“1” if the median of removed lines for that author is “0” (this author is not removing lines in at least 50% of the commits), “0” otherwise</td>
</tr>
</tbody>
</table>
<section id="heuristic-terms" class="level3">
<h3 class="anchored" data-anchor-id="heuristic-terms">Heuristic terms</h3>
<p>The heuristic terms in the table belong to the application domain, using terminology of the tasks the bots are usually performing in software repositories. With these terms, a set of dummy variables is created with one column per term, where the value is “1” (<strong>True</strong>) when the term from that column is included in the author’s name; and “0” (<strong>False</strong>) if is not included. For instance, a user named <code>ghmerger</code> would have a “1” value in the <code>merge</code> and <code>merger</code> columns, and a “0” value in the rest of the columns.</p>
<p>Additionaly, there is another binary variable summarizing if the author name contains any of these terms: <code>git__author_name_has_term</code>.</p>
<table class="table">
<colgroup>
<col style="width: 100%">
</colgroup>
<thead>
<tr class="header">
<th>Heuristic terms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>auto</code>, <code>bot</code>, <code>build</code>, <code>cd</code>, <code>ci</code>, <code>code</code>, <code>commit</code>, <code>copy</code>, <code>dependency</code>,</td>
</tr>
<tr class="even">
<td><code>fix</code>, <code>integration</code>, <code>issue</code>, <code>merge</code>, <code>patrol</code>, <code>pr</code>, <code>pull</code>,</td>
</tr>
<tr class="odd">
<td><code>release</code>, <code>request</code>, <code>review</code>, <code>sync</code>, <code>template</code>, <code>tool</code>, <code>travis</code></td>
</tr>
</tbody>
</table>
<p>Nonetheless, this approach was adding too much complexity to the system. After several experiments, the decision was to summarize the inclusion of these terms into a “terms score”. The idea was to classify the heuristic terms in three different levels assigning weights to each of them, according to their relevance in the application domain. Doing so, an author name having one or more terms from the list would have a greater value, also taking into account their relevance by using these levels. Having a score of <code>0</code> means the <code>author_name</code> field doesn’t include any of the relevant terms.</p>
<ul>
<li>The definition of these three levels is:</li>
</ul>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Level</th>
<th>Terms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><code>bot</code>, <code>dependency</code>, <code>fix</code>, <code>integration</code>, <code>merge</code></td>
</tr>
<tr class="even">
<td>2</td>
<td><code>auto</code>, <code>build</code>, <code>commit</code>, <code>copy</code>, <code>issue</code>, <code>release</code>, <code>request</code>, <code>review</code>, <code>sync</code>, <code>template</code>, <code>tool</code>, <code>travis</code></td>
</tr>
<tr class="odd">
<td>3</td>
<td><code>cd</code>, <code>ci</code>, <code>code</code>, <code>patrol</code>, <code>pr</code>, <code>pull</code></td>
</tr>
</tbody>
</table>
<ul>
<li>The formula to compute this terms score is: <span class="math inline">\({Ts}(term) = 60Nl_{1} + 30Nl_{2} + 10Nl_{3}\)</span>.</li>
</ul>
<div class="cell" data-execution_count="50">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a>heuristic_terms <span class="op">=</span> [<span class="st">'bot'</span>, <span class="st">'ci'</span>, <span class="st">'cd'</span>, <span class="st">'build'</span>, <span class="st">'auto'</span>, <span class="st">'travis'</span>, <span class="st">'copy'</span>,</span>
<span id="cb51-2"><a href="#cb51-2"></a>                   <span class="st">'dependency'</span>, <span class="st">'fix'</span>, <span class="st">'merge'</span>, <span class="st">'template'</span>, <span class="st">'sync'</span>,</span>
<span id="cb51-3"><a href="#cb51-3"></a>                   <span class="st">'integration'</span>, <span class="st">'release'</span>, <span class="st">'code'</span>, <span class="st">'review'</span>, <span class="st">'tool'</span>,</span>
<span id="cb51-4"><a href="#cb51-4"></a>                   <span class="st">'patrol'</span>, <span class="st">'issue'</span>, <span class="st">'pr'</span>, <span class="st">'pull'</span>, <span class="st">'request'</span>, <span class="st">'commit'</span>]</span>
<span id="cb51-5"><a href="#cb51-5"></a></span>
<span id="cb51-6"><a href="#cb51-6"></a>terms_l1 <span class="op">=</span> [<span class="st">'bot'</span>, <span class="st">'dependency'</span>, <span class="st">'fix'</span>, <span class="st">'integration'</span>, <span class="st">'merge'</span>]</span>
<span id="cb51-7"><a href="#cb51-7"></a>terms_l2 <span class="op">=</span> [<span class="st">'auto'</span>, <span class="st">'build'</span>, <span class="st">'commit'</span>, <span class="st">'copy'</span>, <span class="st">'issue'</span>, <span class="st">'release'</span>,</span>
<span id="cb51-8"><a href="#cb51-8"></a>            <span class="st">'request'</span>, <span class="st">'review'</span>, <span class="st">'sync'</span>, <span class="st">'template'</span>, <span class="st">'tool'</span>, <span class="st">'travis'</span>]</span>
<span id="cb51-9"><a href="#cb51-9"></a>terms_l3 <span class="op">=</span> [<span class="st">'cd'</span>, <span class="st">'ci'</span>, <span class="st">'code'</span>, <span class="st">'patrol'</span>, <span class="st">'pr'</span>, <span class="st">'pull'</span>]</span>
<span id="cb51-10"><a href="#cb51-10"></a></span>
<span id="cb51-11"><a href="#cb51-11"></a><span class="kw">def</span> compute_terms_score(x, terms):</span>
<span id="cb51-12"><a href="#cb51-12"></a>    score <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-13"><a href="#cb51-13"></a>    n_l1 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-14"><a href="#cb51-14"></a>    n_l2 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-15"><a href="#cb51-15"></a>    n_l3 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-16"><a href="#cb51-16"></a>    <span class="cf">for</span> term <span class="kw">in</span> terms:</span>
<span id="cb51-17"><a href="#cb51-17"></a>        <span class="cf">if</span> term.lower() <span class="kw">in</span> x.lower():</span>
<span id="cb51-18"><a href="#cb51-18"></a>            <span class="cf">if</span> term <span class="kw">in</span> terms_l1:</span>
<span id="cb51-19"><a href="#cb51-19"></a>                n_l1 <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb51-20"><a href="#cb51-20"></a>            <span class="cf">elif</span> term <span class="kw">in</span> terms_l2:</span>
<span id="cb51-21"><a href="#cb51-21"></a>                n_l2 <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb51-22"><a href="#cb51-22"></a>            <span class="cf">elif</span> term <span class="kw">in</span> terms_l3:</span>
<span id="cb51-23"><a href="#cb51-23"></a>                n_l3 <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb51-24"><a href="#cb51-24"></a>    score <span class="op">=</span> <span class="dv">60</span><span class="op">*</span>n_l1 <span class="op">+</span> <span class="dv">30</span><span class="op">*</span>n_l2 <span class="op">+</span> <span class="dv">10</span><span class="op">*</span>n_l3</span>
<span id="cb51-25"><a href="#cb51-25"></a>    <span class="co"># norm_score = (100*score)/720</span></span>
<span id="cb51-26"><a href="#cb51-26"></a>    <span class="cf">return</span> score</span>
<span id="cb51-27"><a href="#cb51-27"></a></span>
<span id="cb51-28"><a href="#cb51-28"></a><span class="kw">def</span> str_has_heuristic(x, terms):</span>
<span id="cb51-29"><a href="#cb51-29"></a>    <span class="cf">for</span> term <span class="kw">in</span> terms:</span>
<span id="cb51-30"><a href="#cb51-30"></a>        <span class="cf">if</span> term <span class="kw">in</span> x:</span>
<span id="cb51-31"><a href="#cb51-31"></a>            <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb51-32"><a href="#cb51-32"></a>    <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb51-33"><a href="#cb51-33"></a></span>
<span id="cb51-34"><a href="#cb51-34"></a><span class="kw">def</span> produce_dummy_terms(author_name, terms):</span>
<span id="cb51-35"><a href="#cb51-35"></a>    list_terms <span class="op">=</span> []</span>
<span id="cb51-36"><a href="#cb51-36"></a>    <span class="cf">for</span> term <span class="kw">in</span> terms:</span>
<span id="cb51-37"><a href="#cb51-37"></a>        value <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb51-38"><a href="#cb51-38"></a>        term <span class="op">=</span> <span class="bu">str</span>(term)</span>
<span id="cb51-39"><a href="#cb51-39"></a>        author_name <span class="op">=</span> <span class="bu">str</span>(author_name)</span>
<span id="cb51-40"><a href="#cb51-40"></a>        <span class="cf">if</span> term.lower() <span class="kw">in</span> author_name.lower():</span>
<span id="cb51-41"><a href="#cb51-41"></a>            value <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb51-42"><a href="#cb51-42"></a>        list_terms.append(value)</span>
<span id="cb51-43"><a href="#cb51-43"></a>    <span class="cf">return</span> pd.Series(list_terms)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="51">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a>vars_subset <span class="op">=</span> [<span class="st">'git__log_num_commits'</span>,</span>
<span id="cb52-2"><a href="#cb52-2"></a>               <span class="st">'git__log_num_merge_commits'</span>,</span>
<span id="cb52-3"><a href="#cb52-3"></a>               <span class="st">'git__log_num_weekend_commits'</span>,</span>
<span id="cb52-4"><a href="#cb52-4"></a>               <span class="st">'git__log_num_signed_commits'</span>,</span>
<span id="cb52-5"><a href="#cb52-5"></a>               <span class="st">'git__log_num_repos'</span>,</span>
<span id="cb52-6"><a href="#cb52-6"></a>               <span class="st">'git__sqrt_ratio_merge_commits'</span>,</span>
<span id="cb52-7"><a href="#cb52-7"></a>               <span class="st">'git__sqrt_ratio_weekend_commits'</span>,</span>
<span id="cb52-8"><a href="#cb52-8"></a>               <span class="st">'git__sqrt_ratio_signed_commits'</span>,</span>
<span id="cb52-9"><a href="#cb52-9"></a>               <span class="st">'git__log_median_files'</span>,</span>
<span id="cb52-10"><a href="#cb52-10"></a>               <span class="st">'git__log_iqr_files'</span>,</span>
<span id="cb52-11"><a href="#cb52-11"></a>               <span class="st">'git__log_median_lines_added'</span>,</span>
<span id="cb52-12"><a href="#cb52-12"></a>               <span class="st">'git__log_iqr_lines_added'</span>,</span>
<span id="cb52-13"><a href="#cb52-13"></a>               <span class="st">'git__log_median_lines_removed'</span>,</span>
<span id="cb52-14"><a href="#cb52-14"></a>               <span class="st">'git__log_iqr_lines_removed'</span>,</span>
<span id="cb52-15"><a href="#cb52-15"></a>               <span class="st">'git__log_median_len_commit_message'</span>,</span>
<span id="cb52-16"><a href="#cb52-16"></a>               <span class="st">'git__log_iqr_len_commit_message'</span>,</span>
<span id="cb52-17"><a href="#cb52-17"></a>               <span class="st">'git__log_median_len_words_commit_message'</span>,</span>
<span id="cb52-18"><a href="#cb52-18"></a>               <span class="st">'git__log_iqr_len_words_commit_message'</span>]</span>
<span id="cb52-19"><a href="#cb52-19"></a></span>
<span id="cb52-20"><a href="#cb52-20"></a></span>
<span id="cb52-21"><a href="#cb52-21"></a>X_train_git[<span class="st">'git__has_merge_commits'</span>] <span class="op">=</span> (X_train_git[<span class="st">'git__num_merge_commits'</span>] <span class="op">&gt;</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb52-22"><a href="#cb52-22"></a>X_train_git[<span class="st">'git__has_weekend_commits'</span>] <span class="op">=</span> (X_train_git[<span class="st">'git__num_weekend_commits'</span>] <span class="op">&gt;</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb52-23"><a href="#cb52-23"></a>X_train_git[<span class="st">'git__has_signed_commits'</span>] <span class="op">=</span> (X_train_git[<span class="st">'git__num_signed_commits'</span>] <span class="op">&gt;</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb52-24"><a href="#cb52-24"></a></span>
<span id="cb52-25"><a href="#cb52-25"></a>X_train_git[<span class="st">'terms_score'</span>] <span class="op">=</span> X_train_git[<span class="st">'author_name'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: compute_terms_score(x, heuristic_terms))</span>
<span id="cb52-26"><a href="#cb52-26"></a>vars_subset <span class="op">+=</span> [<span class="st">'terms_score'</span>]</span>
<span id="cb52-27"><a href="#cb52-27"></a></span>
<span id="cb52-28"><a href="#cb52-28"></a>X_train_git[<span class="st">'git__mostly_not_adding_lines'</span>] <span class="op">=</span> (X_train_git[<span class="st">'git__median_lines_added'</span>] <span class="op">==</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb52-29"><a href="#cb52-29"></a>X_train_git[<span class="st">'git__mostly_not_removing_lines'</span>] <span class="op">=</span> (X_train_git[<span class="st">'git__median_lines_removed'</span>] <span class="op">==</span> <span class="dv">0</span>).astype(<span class="bu">int</span>)</span>
<span id="cb52-30"><a href="#cb52-30"></a>vars_subset <span class="op">+=</span> [<span class="st">'git__has_merge_commits'</span>,</span>
<span id="cb52-31"><a href="#cb52-31"></a>                <span class="st">'git__has_weekend_commits'</span>,</span>
<span id="cb52-32"><a href="#cb52-32"></a>                <span class="st">'git__has_signed_commits'</span>,</span>
<span id="cb52-33"><a href="#cb52-33"></a>                <span class="st">'git__mostly_not_adding_lines'</span>,</span>
<span id="cb52-34"><a href="#cb52-34"></a>                <span class="st">'git__mostly_not_removing_lines'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-execution_count="52">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a>X_train_git[<span class="st">"log_terms_score"</span>] <span class="op">=</span> X_train_git[<span class="st">"terms_score"</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: shifted_log10(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s represent the frequncy distribution of the new “Terms score” variable and test how it looks like when it is transfomed. As we are interested in having a variable representing a wide range of values, we decided not to normalize the value nor transform it.</p>
<div class="cell" data-execution_count="53">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1"></a><span class="co"># Represent the frequncy distribution of the new "Terms score" variable</span></span>
<span id="cb54-2"><a href="#cb54-2"></a><span class="co"># and test how it looks like when it is transfomed. </span></span>
<span id="cb54-3"><a href="#cb54-3"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">8</span>))</span>
<span id="cb54-4"><a href="#cb54-4"></a></span>
<span id="cb54-5"><a href="#cb54-5"></a>sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"terms_score"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb54-6"><a href="#cb54-6"></a>sns.histplot(data<span class="op">=</span>X_train_git, x<span class="op">=</span><span class="st">"log_terms_score"</span>, stat<span class="op">=</span><span class="st">'frequency'</span>, kde<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb54-7"><a href="#cb54-7"></a></span>
<span id="cb54-8"><a href="#cb54-8"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-54-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="correlation-after-transforming-the-variables" class="level2">
<h2 class="anchored" data-anchor-id="correlation-after-transforming-the-variables">Correlation after transforming the variables</h2>
<div class="cell" data-execution_count="54">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb55-2"><a href="#cb55-2"></a>ax <span class="op">=</span> sns.heatmap(</span>
<span id="cb55-3"><a href="#cb55-3"></a>    X_train_git[vars_subset].corr().<span class="bu">abs</span>(),</span>
<span id="cb55-4"><a href="#cb55-4"></a>    linewidths<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb55-5"><a href="#cb55-5"></a>    square<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb55-6"><a href="#cb55-6"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb55-7"><a href="#cb55-7"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb55-8"><a href="#cb55-8"></a>    cmap<span class="op">=</span><span class="st">'coolwarm'</span></span>
<span id="cb55-9"><a href="#cb55-9"></a>)</span>
<span id="cb55-10"><a href="#cb55-10"></a>ax.set_xticklabels(</span>
<span id="cb55-11"><a href="#cb55-11"></a>    ax.get_xticklabels(),</span>
<span id="cb55-12"><a href="#cb55-12"></a>    rotation<span class="op">=</span><span class="dv">60</span>,</span>
<span id="cb55-13"><a href="#cb55-13"></a>    horizontalalignment<span class="op">=</span><span class="st">'right'</span>,</span>
<span id="cb55-14"><a href="#cb55-14"></a>)<span class="op">;</span></span>
<span id="cb55-15"><a href="#cb55-15"></a></span>
<span id="cb55-16"><a href="#cb55-16"></a>plt.savefig(<span class="st">'docs/imgs/eda_corr_heatmap_after.png'</span>, dpi<span class="op">=</span><span class="dv">600</span>, bbox_inches<span class="op">=</span><span class="st">'tight'</span>, pad_inches<span class="op">=</span><span class="fl">1.5</span>, transparent<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-55-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Here we represent the variables having absolute correlation values greater than 0.75:</p>
<div class="cell" data-execution_count="55">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1"></a>dfcorr <span class="op">=</span> X_train_git[vars_subset].corr().<span class="bu">abs</span>()</span>
<span id="cb56-2"><a href="#cb56-2"></a></span>
<span id="cb56-3"><a href="#cb56-3"></a>kot <span class="op">=</span> dfcorr[dfcorr<span class="op">&gt;=</span><span class="fl">.75</span>]</span>
<span id="cb56-4"><a href="#cb56-4"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb56-5"><a href="#cb56-5"></a>sns.heatmap(kot, cmap<span class="op">=</span><span class="st">"Reds"</span>, annot<span class="op">=</span><span class="va">True</span>, fmt<span class="op">=</span><span class="st">".2f"</span>)</span>
<span id="cb56-6"><a href="#cb56-6"></a></span>
<span id="cb56-7"><a href="#cb56-7"></a>plt.savefig(<span class="st">'docs/imgs/eda_corr_heatmap_more_75.png'</span>, dpi<span class="op">=</span><span class="dv">600</span>, bbox_inches<span class="op">=</span><span class="st">'tight'</span>, pad_inches<span class="op">=</span><span class="fl">1.5</span>, transparent<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-56-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="56">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="co"># Dropping variables with higher correlation</span></span>
<span id="cb57-2"><a href="#cb57-2"></a></span>
<span id="cb57-3"><a href="#cb57-3"></a>drop_cols <span class="op">=</span> [</span>
<span id="cb57-4"><a href="#cb57-4"></a>    <span class="st">'git__sqrt_ratio_merge_commits'</span>,</span>
<span id="cb57-5"><a href="#cb57-5"></a>    <span class="st">'git__sqrt_ratio_weekend_commits'</span>,</span>
<span id="cb57-6"><a href="#cb57-6"></a>    <span class="st">'git__sqrt_ratio_signed_commits'</span>,</span>
<span id="cb57-7"><a href="#cb57-7"></a>    <span class="st">'git__log_iqr_lines_added'</span>,</span>
<span id="cb57-8"><a href="#cb57-8"></a>    <span class="st">'git__log_iqr_lines_removed'</span>,</span>
<span id="cb57-9"><a href="#cb57-9"></a>    <span class="st">'git__log_iqr_len_commit_message'</span>,</span>
<span id="cb57-10"><a href="#cb57-10"></a>    <span class="st">'git__log_median_len_words_commit_message'</span>,</span>
<span id="cb57-11"><a href="#cb57-11"></a>    <span class="st">'git__has_merge_commits'</span>,</span>
<span id="cb57-12"><a href="#cb57-12"></a>    <span class="st">'git__has_weekend_commits'</span>,</span>
<span id="cb57-13"><a href="#cb57-13"></a>    <span class="st">'git__has_signed_commits'</span>,</span>
<span id="cb57-14"><a href="#cb57-14"></a>    <span class="st">'git__mostly_not_adding_lines'</span>,</span>
<span id="cb57-15"><a href="#cb57-15"></a>    <span class="st">'git__mostly_not_removing_lines'</span>,</span>
<span id="cb57-16"><a href="#cb57-16"></a>]</span>
<span id="cb57-17"><a href="#cb57-17"></a>X_train_git <span class="op">=</span> X_train_git[vars_subset].drop(columns<span class="op">=</span>drop_cols)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>After removing the variables with higher correlation, this is how the ultimate correlation matrix looks like:</p>
<div class="cell" data-execution_count="57">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb58-2"><a href="#cb58-2"></a>ax <span class="op">=</span> sns.heatmap(</span>
<span id="cb58-3"><a href="#cb58-3"></a>    X_train_git.corr().<span class="bu">abs</span>(),</span>
<span id="cb58-4"><a href="#cb58-4"></a>    linewidths<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb58-5"><a href="#cb58-5"></a>    square<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb58-6"><a href="#cb58-6"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb58-7"><a href="#cb58-7"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb58-8"><a href="#cb58-8"></a>    cmap<span class="op">=</span><span class="st">'coolwarm'</span>,</span>
<span id="cb58-9"><a href="#cb58-9"></a>    annot<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb58-10"><a href="#cb58-10"></a>    fmt<span class="op">=</span><span class="st">".2f"</span></span>
<span id="cb58-11"><a href="#cb58-11"></a>)</span>
<span id="cb58-12"><a href="#cb58-12"></a>ax.set_xticklabels(</span>
<span id="cb58-13"><a href="#cb58-13"></a>    ax.get_xticklabels(),</span>
<span id="cb58-14"><a href="#cb58-14"></a>    rotation<span class="op">=</span><span class="dv">60</span>,</span>
<span id="cb58-15"><a href="#cb58-15"></a>    horizontalalignment<span class="op">=</span><span class="st">'right'</span>,</span>
<span id="cb58-16"><a href="#cb58-16"></a>)<span class="op">;</span></span>
<span id="cb58-17"><a href="#cb58-17"></a></span>
<span id="cb58-18"><a href="#cb58-18"></a>plt.savefig(<span class="st">'eda_corr_heatmap_correlation_fixed.png'</span>, dpi<span class="op">=</span><span class="dv">600</span>, bbox_inches<span class="op">=</span><span class="st">'tight'</span>, pad_inches<span class="op">=</span><span class="fl">1.5</span>, transparent<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-58-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>We can run an additional check to confirm that there are no pairs of variables having correlation values above 0.75:</p>
<div class="cell" data-scrolled="true" data-execution_count="58">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a>dfcorr2 <span class="op">=</span> X_train_git.corr().<span class="bu">abs</span>()</span>
<span id="cb59-2"><a href="#cb59-2"></a></span>
<span id="cb59-3"><a href="#cb59-3"></a>kot <span class="op">=</span> dfcorr2[dfcorr2<span class="op">&gt;=</span><span class="fl">.75</span>]</span>
<span id="cb59-4"><a href="#cb59-4"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">10</span>))</span>
<span id="cb59-5"><a href="#cb59-5"></a>ax <span class="op">=</span> sns.heatmap(</span>
<span id="cb59-6"><a href="#cb59-6"></a>    kot,</span>
<span id="cb59-7"><a href="#cb59-7"></a>    linewidths<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb59-8"><a href="#cb59-8"></a>    square<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb59-9"><a href="#cb59-9"></a>    xticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb59-10"><a href="#cb59-10"></a>    yticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb59-11"><a href="#cb59-11"></a>    cmap<span class="op">=</span><span class="st">'Reds'</span>,</span>
<span id="cb59-12"><a href="#cb59-12"></a>    annot<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb59-13"><a href="#cb59-13"></a>    fmt<span class="op">=</span><span class="st">".2f"</span></span>
<span id="cb59-14"><a href="#cb59-14"></a>)</span>
<span id="cb59-15"><a href="#cb59-15"></a>ax.set_xticklabels(</span>
<span id="cb59-16"><a href="#cb59-16"></a>    ax.get_xticklabels(),</span>
<span id="cb59-17"><a href="#cb59-17"></a>    rotation<span class="op">=</span><span class="dv">60</span>,</span>
<span id="cb59-18"><a href="#cb59-18"></a>    horizontalalignment<span class="op">=</span><span class="st">'right'</span>,</span>
<span id="cb59-19"><a href="#cb59-19"></a>)<span class="op">;</span></span>
<span id="cb59-20"><a href="#cb59-20"></a></span>
<span id="cb59-21"><a href="#cb59-21"></a>plt.savefig(<span class="st">'eda_corr_heatmap_more_75_fixed.png'</span>, dpi<span class="op">=</span><span class="dv">600</span>, bbox_inches<span class="op">=</span><span class="st">'tight'</span>, pad_inches<span class="op">=</span><span class="fl">1.5</span>, transparent<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-59-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="imbalanced-data" class="level2">
<h2 class="anchored" data-anchor-id="imbalanced-data">Imbalanced data</h2>
<p>One of the main challenges of this classification is the imbalance in the target class we are aiming to detect. This context was taken into account when splitting the main dataset into the training, test, and validation tests, but it needs another processing stage before they feed the different classification models. Looking at the techniques that are commonly used to reduce the effect of imbalanced data, the one selected was <strong>SMOTE</strong>.</p>
<p>SMOTE consists of an algorithm generating new samples considering the k-nearest neighbors from each original sample from the <strong>training set</strong>. Each newly generated sample is interpolated between the original sample and one of the nearest neighbors; with a random component <span class="math inline">\(\lambda\)</span>, which takes value in the range <span class="math inline">\([0, 1]\)</span>.</p>
<p>To apply SMOTE, we rely on the implementation under the <code>over_sampling</code> module from the Python library <code>imblearn</code>.</p>
<div class="cell" data-execution_count="59">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1"></a><span class="im">from</span> imblearn.over_sampling <span class="im">import</span> SMOTE</span>
<span id="cb60-2"><a href="#cb60-2"></a></span>
<span id="cb60-3"><a href="#cb60-3"></a>smt <span class="op">=</span> SMOTE(random_state<span class="op">=</span><span class="dv">22</span>)</span>
<span id="cb60-4"><a href="#cb60-4"></a>X_train_git_SMOTE, y_train_git_SMOTE <span class="op">=</span> smt.fit_resample(X_train_git, y_train_git)</span>
<span id="cb60-5"><a href="#cb60-5"></a></span>
<span id="cb60-6"><a href="#cb60-6"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">10</span>))</span>
<span id="cb60-7"><a href="#cb60-7"></a></span>
<span id="cb60-8"><a href="#cb60-8"></a>sns.histplot(data<span class="op">=</span>y_train_git.replace({<span class="dv">0</span>: <span class="st">'False'</span>, <span class="dv">1</span>: <span class="st">'True'</span>}), stat<span class="op">=</span><span class="st">'count'</span>, kde<span class="op">=</span><span class="va">False</span>, color<span class="op">=</span><span class="st">"skyblue"</span>, ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb60-9"><a href="#cb60-9"></a>sns.histplot(data<span class="op">=</span>y_train_git_SMOTE.replace({<span class="dv">0</span>: <span class="st">'False'</span>, <span class="dv">1</span>: <span class="st">'True'</span>}), stat<span class="op">=</span><span class="st">'count'</span>, kde<span class="op">=</span><span class="va">False</span>, discrete<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">"teal"</span>, ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb60-10"><a href="#cb60-10"></a></span>
<span id="cb60-11"><a href="#cb60-11"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploratory-data-analysis_files/figure-html/cell-60-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="60">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1"></a><span class="op">%%</span>javascript</span>
<span id="cb61-2"><a href="#cb61-2"></a> IPython.OutputArea.prototype._should_scroll <span class="op">=</span> function(lines) {</span>
<span id="cb61-3"><a href="#cb61-3"></a>     <span class="cf">return</span> false<span class="op">;</span></span>
<span id="cb61-4"><a href="#cb61-4"></a> }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<script type="application/javascript">
 IPython.OutputArea.prototype._should_scroll = function(lines) {
     return false;
 }

</script>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button,
        { trigger: "manual",
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        }
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config);
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



<script src="exploratory-data-analysis_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>
